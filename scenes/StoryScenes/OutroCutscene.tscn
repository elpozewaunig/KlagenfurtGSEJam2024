[gd_scene load_steps=4 format=3 uid="uid://xn78ag3l5ltx"]

[ext_resource type="PackedScene" uid="uid://dgurl1u1gb0ly" path="res://scenes/DialogScene.tscn" id="1_v26rx"]
[ext_resource type="Texture2D" uid="uid://de0oh122gsoku" path="res://assets/cutscenebackgrounds/ending.jpg" id="2_xs2v2"]

[sub_resource type="GDScript" id="GDScript_1f4x1"]
script/source = "extends Node3D

@onready var dialogScene: Control = $DialogScene

var DIALOG: Array[DialogOption] = [
	DialogOption.new(DialogOption.DIALOG_ENTITY.NARRATOR, \"As you open the rift, the black-violet light pulses violently, and the ground trembles beneath your feet.\"),
	DialogOption.new(DialogOption.DIALOG_ENTITY.PLAYER, \"At last… the gateway to the new world opens. Satan’s will shall be done.\"),
	DialogOption.new(DialogOption.DIALOG_ENTITY.NARRATOR, \"The crack widens, consuming the sky, and a monstrous roar echoes as creatures from the abyss spill forth.\"),
	DialogOption.new(DialogOption.DIALOG_ENTITY.NARRATOR, \"The world plunges into chaos as the rift’s power overtakes everything, extinguishing hope and light.\"),
	DialogOption.new(DialogOption.DIALOG_ENTITY.NARRATOR, \"And thus, the world is doomed, heralding the reign of darkness eternal.\")
]

# Called when the node enters the scene tree for the first time.
func _ready() -> void:
	dialogScene.showDialog(DIALOG)


func _on_dialog_scene_dialog_completed() -> void:
	SceneManager.change_scene(SceneManager.winScene, true)
"

[node name="OutroCutscene" type="Node3D"]
script = SubResource("GDScript_1f4x1")

[node name="DialogScene" parent="." instance=ExtResource("1_v26rx")]
background = ExtResource("2_xs2v2")

[connection signal="dialogCompleted" from="DialogScene" to="." method="_on_dialog_scene_dialog_completed"]
